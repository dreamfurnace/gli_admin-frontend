import{d as $,r as c,p,i as j,c as a,o,e as t,f as l,t as n,F as k,s as b,x as m,n as y,z as v}from"./index-1x3K-qxh.js";const M={class:"p-6"},V={class:"mb-6 flex justify-between items-center"},A={class:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4"},z={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-4"},E={class:"flex items-center"},L={class:"ml-4"},F={class:"text-2xl font-semibold text-gray-900 dark:text-white"},N={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-4"},G={class:"flex items-center"},H={class:"ml-4"},I={class:"text-2xl font-semibold text-gray-900 dark:text-white"},R={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-4"},U={class:"flex items-center"},q={class:"ml-4"},J={class:"text-2xl font-semibold text-gray-900 dark:text-white"},K={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-4"},O={class:"flex items-center"},Q={class:"ml-4"},W={class:"text-2xl font-semibold text-gray-900 dark:text-white"},X={class:"bg-white dark:bg-gray-800 rounded-lg shadow"},Y={key:0,class:"p-6"},Z={class:"animate-pulse space-y-4"},tt={key:1,class:"p-6"},et={class:"text-center py-12"},st={class:"mt-6"},rt={key:2,class:"overflow-x-auto"},at={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ot={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},nt={class:"px-6 py-4"},dt={class:"text-sm font-medium text-gray-900 dark:text-white"},it={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},lt={class:"px-6 py-4"},ut={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},xt={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},gt={class:"px-6 py-4"},ct={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400"},pt={class:"px-6 py-4 text-right text-sm font-medium"},yt={class:"flex justify-end space-x-2"},kt=["onClick"],bt=["onClick"],mt=["onClick"],vt=["onClick"],ht={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},ft={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full"},wt={class:"flex justify-end space-x-3"},Pt=$({__name:"DistributionPlanningView",setup(_t){const d=c([]),u=c(!0),i=c(!1),h=p(()=>d.value.filter(s=>s.status==="executed").length),f=p(()=>d.value.filter(s=>["draft","pending_approval","approved"].includes(s.status)).length),w=p(()=>d.value.reduce((s,e)=>s+e.totalAmount,0)),x=async()=>{try{u.value=!0,d.value=await y.getDistributionPlans()}catch(s){console.error("Failed to load distribution plans:",s)}finally{u.value=!1}},_=s=>{const e={draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",pending_approval:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",approved:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",executing:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",executed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",failed:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",cancelled:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return e[s]||e.draft},C=s=>({draft:"Draft",pending_approval:"Pending Approval",approved:"Approved",executing:"Executing",executed:"Executed",failed:"Failed",cancelled:"Cancelled"})[s]||s,P=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=s=>{console.log("View plan:",s)},T=s=>{console.log("Edit plan:",s)},S=async s=>{try{await y.approveDistributionPlan(s.id),v.showSuccessToast(`Distribution plan "${s.name}" approved successfully`),await x()}catch(e){console.error("Failed to approve plan:",e)}},B=async s=>{if(confirm(`Are you sure you want to execute the distribution plan "${s.name}"? This action cannot be undone.`))try{await y.executeDistributionPlan(s.id),v.showSuccessToast(`Distribution plan "${s.name}" executed successfully`),await x()}catch(e){console.error("Failed to execute plan:",e)}};return j(()=>{x()}),(s,e)=>(o(),a("div",M,[t("div",V,[e[5]||(e[5]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},"Token Distribution Planning"),t("p",{class:"text-gray-600 dark:text-gray-400"},"Manage and execute token distribution plans for GLIB and GLID tokens")],-1)),t("button",{onClick:e[0]||(e[0]=r=>i.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors"},e[4]||(e[4]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),t("span",null,"New Distribution Plan",-1)]))]),t("div",A,[t("div",z,[t("div",E,[e[7]||(e[7]=t("div",{class:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg"},[t("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",L,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Total Plans",-1)),t("p",F,n(d.value.length),1)])])]),t("div",N,[t("div",G,[e[9]||(e[9]=t("div",{class:"p-2 bg-green-100 dark:bg-green-900 rounded-lg"},[t("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",H,[e[8]||(e[8]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Executed",-1)),t("p",I,n(h.value),1)])])]),t("div",R,[t("div",U,[e[11]||(e[11]=t("div",{class:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg"},[t("svg",{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",q,[e[10]||(e[10]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Pending",-1)),t("p",J,n(f.value),1)])])]),t("div",K,[t("div",O,[e[13]||(e[13]=t("div",{class:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg"},[t("svg",{class:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),t("div",Q,[e[12]||(e[12]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Total Tokens",-1)),t("p",W,n(w.value.toLocaleString()),1)])])])]),t("div",X,[e[18]||(e[18]=t("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Distribution Plans")],-1)),u.value?(o(),a("div",Y,[t("div",Z,[(o(),a(k,null,b(3,r=>t("div",{key:r,class:"h-20 bg-gray-200 dark:bg-gray-700 rounded"})),64))])])):d.value.length===0?(o(),a("div",tt,[t("div",et,[e[14]||(e[14]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[15]||(e[15]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"No distribution plans",-1)),e[16]||(e[16]=t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Get started by creating a new distribution plan.",-1)),t("div",st,[t("button",{onClick:e[1]||(e[1]=r=>i.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg"}," Create Distribution Plan ")])])])):(o(),a("div",rt,[t("table",at,[e[17]||(e[17]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Plan Name "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Token Type "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Total Amount "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Recipients "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Scheduled Date "),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",ot,[(o(!0),a(k,null,b(d.value,r=>(o(),a("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",nt,[t("div",null,[t("div",dt,n(r.name),1),r.description?(o(),a("div",it,n(r.description),1)):l("",!0)])]),t("td",lt,[t("span",{class:m(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.tokenType==="GLIB"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},n(r.tokenType),3)]),t("td",ut,n(r.totalAmount.toLocaleString()),1),t("td",xt,n(r.recipients.length),1),t("td",gt,[t("span",{class:m(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",_(r.status)])},n(C(r.status)),3)]),t("td",ct,n(P(r.scheduledDate)),1),t("td",pt,[t("div",yt,[t("button",{onClick:g=>D(r),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"}," View ",8,kt),r.status==="draft"?(o(),a("button",{key:0,onClick:g=>T(r),class:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300"}," Edit ",8,bt)):l("",!0),r.status==="draft"?(o(),a("button",{key:1,onClick:g=>S(r),class:"text-purple-600 hover:text-purple-900 dark:text-purple-400 dark:hover:text-purple-300"}," Approve ",8,mt)):l("",!0),r.status==="approved"?(o(),a("button",{key:2,onClick:g=>B(r),class:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300"}," Execute ",8,vt)):l("",!0)])])]))),128))])])]))]),i.value?(o(),a("div",ht,[t("div",ft,[e[19]||(e[19]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Create Distribution Plan",-1)),e[20]||(e[20]=t("p",{class:"text-gray-600 dark:text-gray-400 mb-4"},"Distribution plan creation form will be implemented here.",-1)),t("div",wt,[t("button",{onClick:e[2]||(e[2]=r=>i.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700"}," Cancel "),t("button",{onClick:e[3]||(e[3]=r=>i.value=!1),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Create Plan ")])])])):l("",!0)]))}});export{Pt as default};
